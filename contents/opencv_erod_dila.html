

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Erosion and dilation &mdash; Image processing 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/lense-training.css?v=a3237747" />
      <link rel="stylesheet" type="text/css" href="../_static/css/links.css?v=7a4609b2" />
      <link rel="stylesheet" type="text/css" href="https://iogs-lense.github.io/lense.tech/assets/css/fontawesome/css/all.css" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Opening and closing" href="opencv_open_close.html" />
    <link rel="prev" title="Blur filtering with OpenCV" href="opencv_blur.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Image processing
              <img src="../_static/logo-training_git.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Images</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="images.html">     Digital Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">     Python and images</a></li>
<li class="toctree-l1"><a class="reference internal" href="opencv.html">     OpenCV basic operations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Basic transforms</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="opencv_blur.html">     Blur filter</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">     Erosion, dilation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#kernels-for-erosion-and-dilation">Kernels for erosion and dilation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kernels-with-opencv">Kernels with OpenCV</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#erosion-operation">Erosion Operation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#erosion-with-opencv">Erosion with OpenCV</a></li>
<li class="toctree-l3"><a class="reference internal" href="#results">Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dilation-operation">Dilation Operation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dilation-with-opencv">Dilation with OpenCV</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="opencv_open_close.html">     Opening, closing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Image processing</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Erosion and dilation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/contents/opencv_erod_dila.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="erosion-and-dilation">
<h1>Erosion and dilation<a class="headerlink" href="#erosion-and-dilation" title="Link to this heading"></a></h1>
<p>In <strong>image processing</strong>, erosion and dilation are fundamental morphological operations that modify the shape and
structure of objects in a binary image. Both operations use a kernel, also known as a structuring element, to define the neighborhood of pixels that influence the process. The choice of kernel affects how the erosion and dilation operations are applied to the image.</p>
<figure class="align-center" id="id2">
<img alt="../_images/images_erosion.png" src="../_images/images_erosion.png" />
<figcaption>
<p><span class="caption-number">Fig. 14 </span><span class="caption-text">Example of erosion operation on an image (Square kernel of size 9).</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The code of this example is in the <code class="file docutils literal notranslate"><span class="pre">\progs\Python\09_opencv_erode\09_opencv_erode.py</span></code> file of the repository.</p>
<p>Examples of images are stored in <code class="file docutils literal notranslate"><span class="pre">\_data\</span></code> directory of the repository.</p>
</div>
<section id="kernels-for-erosion-and-dilation">
<h2>Kernels for erosion and dilation<a class="headerlink" href="#kernels-for-erosion-and-dilation" title="Link to this heading"></a></h2>
<p>The kernel used for these operations is typically a small, binary matrix, usually in the shape of a square,
rectangle, ellipse or cross.</p>
<p>Its size (e.g., 3x3, 5x5) determines the extent of the operation. Larger kernels result in more pronounced erosion or dilation effects.</p>
<p>Example of a square kernel (3x3):</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix}
1 &amp; 1 &amp; 1 \\
1 &amp; 1 &amp; 1 \\
1 &amp; 1 &amp; 1
\end{bmatrix}\end{split}\]</div>
<p>Example of a cross kernel (3x3):</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix}
0 &amp; 1 &amp; 0 \\
1 &amp; 1 &amp; 1 \\
0 &amp; 1 &amp; 0
\end{bmatrix}\end{split}\]</div>
<section id="kernels-with-opencv">
<h3>Kernels with OpenCV<a class="headerlink" href="#kernels-with-opencv" title="Link to this heading"></a></h3>
<p>OpenCV provides the <code class="code docutils literal notranslate"><span class="pre">getStructuringElement</span></code> function to create these kernels and some predefined structure.</p>
<p>For example, to create a <strong>cross kernel</strong> of size <em>N</em> (where N is an odd integer), you can use the following instruction:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cross_kernel_N</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getStructuringElement</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">MORPH_CROSS</span><span class="p">,</span> <span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">N</span><span class="p">))</span>
</pre></div>
</div>
<p>To create a square kernel:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">square_kernel_N</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">getStructuringElement</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">MORPH_RECT</span><span class="p">,</span> <span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">N</span><span class="p">))</span>
</pre></div>
</div>
<p>Then, you can use <code class="code docutils literal notranslate"><span class="pre">erode</span></code> and <code class="code docutils literal notranslate"><span class="pre">dilate</span></code> functions to perform erosion and dilation, respectively.</p>
</section>
</section>
<section id="erosion-operation">
<h2>Erosion Operation<a class="headerlink" href="#erosion-operation" title="Link to this heading"></a></h2>
<p>Erosion removes pixels from the boundaries of objects in a binary image, effectively shrinking them. It is often used
to <strong>eliminate small noise</strong> and detach connected objects.</p>
<p>For each pixel in the image, the kernel is centered on the pixel, and the pixel is set to the minimum value covered by the kernel. If the kernel is entirely over foreground pixels (typically value 1), the central pixel remains as foreground. If even one pixel in the kernel’s neighborhood is background (typically value 0), the central pixel becomes background.</p>
<section id="erosion-with-opencv">
<h3>Erosion with OpenCV<a class="headerlink" href="#erosion-with-opencv" title="Link to this heading"></a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">erode</span></code> function performs erosion on the given image using a specified kernel.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">eroded_image_cross_9</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">erode</span><span class="p">(</span><span class="n">grayscale_image</span><span class="p">,</span> <span class="n">cross_kernel_9</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>This function returns an array with the same shape as the initial image. You can then display the image with the standard <code class="code docutils literal notranslate"><span class="pre">imshow</span></code> function
of OpenCV.</p>
</section>
<section id="results">
<h3>Results<a class="headerlink" href="#results" title="Link to this heading"></a></h3>
<figure class="align-center" id="id3">
<img alt="../_images/images_erosion_cross.png" src="../_images/images_erosion_cross.png" />
<figcaption>
<p><span class="caption-number">Fig. 15 </span><span class="caption-text">Example of erosion operation on an image (Cross kernel of size 5 on the left and 9 on the right).</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id4">
<img alt="../_images/images_erosion_cross_square.png" src="../_images/images_erosion_cross_square.png" />
<figcaption>
<p><span class="caption-number">Fig. 16 </span><span class="caption-text">Comparison of erosion operation on an image (Cross kernel of size 9 on the left and square kernell of size 9 on the right).</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
<section id="dilation-operation">
<h2>Dilation Operation<a class="headerlink" href="#dilation-operation" title="Link to this heading"></a></h2>
<p>Dilation adds pixels to the boundaries of objects, effectively expanding them. It is used to <strong>fill in small holes and gaps</strong> and to connect adjacent objects.</p>
<p>For each pixel, the kernel is centered on the pixel, and the pixel is set to the maximum value covered by the kernel. If any part of the kernel overlaps a foreground pixel, the central pixel is set to foreground.</p>
<section id="dilation-with-opencv">
<h3>Dilation with OpenCV<a class="headerlink" href="#dilation-with-opencv" title="Link to this heading"></a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">dilate</span></code> function performs dilation on the given image using a specified kernel.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dilated_image_cross_9</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">dilate</span><span class="p">(</span><span class="n">grayscale_image</span><span class="p">,</span> <span class="n">cross_kernel_9</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>This function returns an array with the same shape as the initial image. You can then display the image with the standard <code class="code docutils literal notranslate"><span class="pre">imshow</span></code> function
of OpenCV.</p>
</section>
<section id="id1">
<h3>Results<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<figure class="align-center" id="id5">
<img alt="../_images/images_dilation_cross.png" src="../_images/images_dilation_cross.png" />
<figcaption>
<p><span class="caption-number">Fig. 17 </span><span class="caption-text">Example of dilation operation on an image (Cross kernel of size 9).</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="opencv_blur.html" class="btn btn-neutral float-left" title="Blur filtering with OpenCV" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="opencv_open_close.html" class="btn btn-neutral float-right" title="Opening and closing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Julien Villemejane.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>